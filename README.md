# AI Health Report Agent (Go)

## 项目简介

本项目是一个基于 **LLM 的多 Agent 智能体应用**，用于将非结构化文本输入（txt）自动生成结构化的健康分析报告（PDF）。

系统借鉴 **CrewAI 多 Agent 协作思想**，对复杂任务进行职责拆分，并结合 **RAG（Retrieval-Augmented Generation）** 技术，通过 **Milvus 向量数据库**增强大模型在垂直领域（健康档案）的专业知识。整体采用 **Go 语言进行工程化实现**，打通从输入到输出的完整业务闭环，具备真实落地与扩展价值。

---

## 整体架构与流程

### 系统流程

```
User Input (txt)
        |
        v
Retrieval Agent
        |
   (Milvus RAG)
        |
        v
Report Agent
        |
        v
PDF Generator
        |
        v
report.pdf
```

### 核心流程说明

1. 用户输入健康相关问题或档案文本（txt）
2. Retrieval Agent 对问题进行向量化，并从 Milvus 中召回相关知识片段
3. Report Agent 综合用户问题与检索结果，调用 LLM 进行分析推理
4. 系统将生成的结构化内容自动导出为 PDF 报告

---

## Agent 架构设计

本项目采用 **多 Agent 协作架构**，对复杂任务进行解耦，提高系统可扩展性与可维护性。

### Retrieval Agent

* 职责：

  * 负责健康档案知识的语义检索
  * 为下游 Agent 提供高相关度的上下文信息
* 核心能力：

  * 文本向量化
  * Milvus 相似度检索
  * Top-K 知识召回

### Report Agent

* 职责：

  * 综合用户问题与检索结果
  * 生成结构化、可读性强的分析报告
* 核心能力：

  * Prompt 构建与上下文注入
  * LLM 推理与内容组织
  * 报告结构规划（摘要 / 分析 / 建议）

> 通过 Agent 职责拆分，系统可自然扩展更多角色（如校验 Agent、评估 Agent 等），具备演进为复杂 AI Agent 系统的能力。

---

## RAG 设计（Milvus）

### 离线阶段

* 加载健康档案文本数据
* 文本切分（Chunking）
* 向量化处理
* 向量数据写入 Milvus

### 在线阶段

* 用户问题向量化
* 基于相似度从 Milvus 中检索相关知识片段
* 将检索结果注入 LLM Prompt
* 生成知识增强的分析内容

---

## 工程化实现（Go）

* 使用 **Go 语言**实现 Agent 执行逻辑与任务编排
* 显式控制 Agent 调用顺序与上下文数据流转
* 模块化设计：

  * Agent 模块
  * RAG 模块
  * LLM 调用模块
  * 报告生成模块
* 为后续扩展 API 服务、并发处理或多 Agent 编排预留工程空间

该实现方式将原本偏“框架即用”的 Agent 思路，转化为 **可控、可定制的工程级实现**。

---

## 输入与输出示例

### 输入

* 健康问题或档案文本（txt）

### 输出

* 自动生成的健康分析报告（PDF）

  * 包含问题摘要
  * 关键健康风险分析
  * 结构化建议内容

---

## 运行方式（简要）

1. 准备健康档案文本数据
2. 启动 Milvus 向量数据库
3. 执行 Go 主程序
4. 输入问题文本
5. 生成 `report.pdf`

---

## 项目价值总结

* ✅ 完整打通 **文本输入 → 多 Agent 推理 → PDF 输出** 的端到端流程
* ✅ 实践 **CrewAI 多 Agent 思想 + RAG** 的真实工程落地
* ✅ 使用 Go 进行 Agent 系统工程化，实现高可控性与可扩展性
* ✅ 可演进为 API 服务或更复杂的 AI Agent 平台
